{"ast":null,"code":"var _jsxFileName = \"/Users/avpaul/code/outcode/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport ArticleView from '../components/articleView/articleView';\nimport SummaryBio from '../components/summaryBio/summaryBio';\nimport { getMainArticles } from '../src/api/article';\nimport reduceTo from '../src/helpers/reduceTo';\nimport Loader from '../components/loader/loader';\nconst SecondaryArticles = styled.section.withConfig({\n  displayName: \"pages__SecondaryArticles\",\n  componentId: \"sc-17hsve2-0\"\n})([\"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;@media only screen and (max-width:768px){flex-direction:column;margin-bottom:16px;}\"]);\nconst ReloadBtn = styled.button.withConfig({\n  displayName: \"pages__ReloadBtn\",\n  componentId: \"sc-17hsve2-1\"\n})([\"min-width:64px;height:36px;padding:0 16px;text-transform:uppercase;font-weight:500;text-align:center;font-size:14px;line-height:36px;text-decoration:none;box-shadow:none;border:1px solid #6b778d;cursor:pointer;color:#6b778d;background-color:transparent;&:focus{outline:none;}&:hover{color:#ffffff;background-color:#6b778d;}@media (prefers-color-scheme:dark){color:#ffffff;border-color:#ffffff;background-color:transparent;&:hover{background-color:transparent;}}@media only screen and (max-width:768px){margin-right:16px;}\"]);\nconst Heading = styled.h1.withConfig({\n  displayName: \"pages__Heading\",\n  componentId: \"sc-17hsve2-2\"\n})([\"margin:16px 0;font-size:36px;color:#17223b;@media (prefers-color-scheme:dark){color:#ffffff;}@media only screen and (max-width:768px){margin:16px 0 8px 16px;}\"]);\n\nconst Home = () => {\n  const {\n    0: articles,\n    1: setArticles\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: page,\n    1: setPage\n  } = useState(0);\n  const colors = ['#167C80', '#72616E', '#B33951', '#E8846B', '#16528E', '#F3A712'];\n  useEffect(() => {\n    getMainArticles({\n      page: 0,\n      limit: 6\n    }).then(({\n      data\n    }) => {\n      setArticles(data);\n      setLoading(false);\n    }).catch(error => {\n      setArticles([]);\n      setLoading(false); // TODO: display the error\n    });\n  }, []);\n\n  const loadMore = () => {\n    setPage(page + 1);\n    setLoading(true);\n    getMainArticles({\n      page: page + 1,\n      limit: 6\n    }).then(({\n      data\n    }) => {\n      setArticles(articles.concat(data));\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n    });\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      marginTop: 32,\n      marginBottom: 32\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, __jsx(SummaryBio, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), __jsx(Heading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Things I Learned\", ' ', __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"thought\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"\\uD83D\\uDCAD\")), articles && __jsx(SecondaryArticles, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, articles.map((article, index) => __jsx(ArticleView, {\n    bgColor: colors[reduceTo(index, 5)],\n    key: article.slug,\n    article: article,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }))), loading && __jsx(Loader, {\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, (articles || loading) && __jsx(ReloadBtn, {\n    onClick: loadMore,\n    type: \"button\",\n    title: \"Load More Articles\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, __jsx(\"i\", {\n    className: \"zmdi zmdi-replay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), \"\\xA0 load more\")));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/avpaul/code/outcode/pages/index.js"],"names":["React","useEffect","useState","styled","css","ArticleView","SummaryBio","getMainArticles","reduceTo","Loader","SecondaryArticles","section","ReloadBtn","button","Heading","h1","Home","articles","setArticles","loading","setLoading","page","setPage","colors","limit","then","data","catch","error","loadMore","concat","marginTop","marginBottom","map","article","index","slug","display","flexDirection","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport ArticleView from '../components/articleView/articleView';\nimport SummaryBio from '../components/summaryBio/summaryBio';\nimport { getMainArticles } from '../src/api/article';\nimport reduceTo from '../src/helpers/reduceTo';\nimport Loader from '../components/loader/loader';\n\nconst SecondaryArticles = styled.section`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  @media only screen and (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 16px;\n  }\n`;\n\nconst ReloadBtn = styled.button`\n  min-width: 64px;\n  height: 36px;\n  padding: 0 16px;\n  text-transform: uppercase;\n  font-weight: 500;\n  text-align: center;\n  font-size: 14px;\n  line-height: 36px;\n  text-decoration: none;\n  box-shadow: none;\n  border: 1px solid #6b778d;\n  cursor: pointer;\n  color: #6b778d;\n  background-color: transparent;\n\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    color: #ffffff;\n    background-color: #6b778d;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    color: #ffffff;\n    border-color: #ffffff;\n    background-color: transparent;\n    &:hover {\n      background-color: transparent;\n    }\n  }\n  @media only screen and (max-width: 768px) {\n    margin-right: 16px;\n  }\n`;\n\nconst Heading = styled.h1`\n  margin: 16px 0;\n  font-size: 36px;\n  color: #17223b;\n  @media (prefers-color-scheme: dark) {\n    color: #ffffff;\n  }\n  @media only screen and (max-width: 768px) {\n    margin: 16px 0 8px 16px;\n  }\n`;\n\nconst Home = () => {\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(0);\n\n  const colors = [\n    '#167C80',\n    '#72616E',\n    '#B33951',\n    '#E8846B',\n    '#16528E',\n    '#F3A712'\n  ];\n\n  useEffect(() => {\n    getMainArticles({ page: 0, limit: 6 })\n      .then(({ data }) => {\n        setArticles(data);\n        setLoading(false);\n      })\n      .catch(error => {\n        setArticles([]);\n        setLoading(false);\n        // TODO: display the error\n      });\n  }, []);\n\n  const loadMore = () => {\n    setPage(page + 1);\n    setLoading(true);\n    getMainArticles({ page: page + 1, limit: 6 })\n      .then(({ data }) => {\n        setArticles(articles.concat(data));\n        setLoading(false);\n      })\n      .catch(error => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div style={{ marginTop: 32, marginBottom: 32 }}>\n      <SummaryBio />\n      <Heading>\n        Things I Learned{' '}\n        <span role=\"img\" aria-label=\"thought\">\n          💭\n        </span>\n      </Heading>\n      {articles && (\n        <SecondaryArticles>\n          {articles.map((article, index) => (\n            <ArticleView\n              bgColor={colors[reduceTo(index, 5)]}\n              key={article.slug}\n              article={article}\n            />\n          ))}\n        </SecondaryArticles>\n      )}\n      {loading && <Loader size=\"small\" />}\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'flex-end'\n        }}\n      >\n        {(articles || loading) && (\n          <ReloadBtn\n            onClick={loadMore}\n            type=\"button\"\n            title=\"Load More Articles\"\n          >\n            <i className=\"zmdi zmdi-replay\" />\n            &nbsp; load more\n          </ReloadBtn>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}