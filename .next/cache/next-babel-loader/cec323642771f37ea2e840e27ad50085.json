{"ast":null,"code":"import axios from 'axios';\nimport getConfig from 'next/config';\nconst {\n  serverRuntimeConfig,\n  publicRuntimeConfig\n} = getConfig();\n\nconst getMainArticles = async ({\n  page = 0,\n  limit = 6\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`${publicRuntimeConfig.API_URL}/articles?page=${page}&limit=${limit}`, {});\n    return data;\n  } catch (error) {\n    return {\n      error: error.response || error\n    };\n  }\n};\n\nconst getPublishedArticles = async ({\n  page = 0,\n  limit = 6\n}) => {\n  try {\n    const token = localStorage.getItem('token');\n    const {\n      data\n    } = await axios.get(`${publicRuntimeConfig.API_URL}/articles/published?page=${page}&limit=${limit}`, {\n      headers: {\n        authorization: `Bearer ${token}`\n      },\n      'Content-Type': 'application/json'\n    });\n    return data;\n  } catch (error) {\n    return {\n      error: error.response || error\n    };\n  }\n};\n\nconst getDraftArticles = async ({\n  page = 0,\n  limit = 6\n}) => {\n  try {\n    const token = localStorage.getItem('token');\n    const {\n      data\n    } = await axios.get(`${publicRuntimeConfig.API_URL}/articles/drafts?page=${page}&limit=${limit}`, {\n      headers: {\n        authorization: `Bearer ${token}`\n      },\n      'Content-Type': 'application/json'\n    });\n    return data;\n  } catch (error) {\n    return {\n      error: error.response || error\n    };\n  }\n};\n\nconst getArticle = async slug => {\n  try {\n    const {\n      data\n    } = await axios.get(`${publicRuntimeConfig.API_URL}/articles/${slug}`, {});\n    return data;\n  } catch (error) {\n    return {\n      error: error.response || error\n    };\n  }\n};\n\nconst deleteArticle = async slug => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const {\n      data\n    } = await axios.delete(`${publicRuntimeConfig.API_URL}/articles/${slug}`, {\n      headers: {\n        authorization: `Bearer ${token}`\n      },\n      'Content-Type': 'application/json'\n    });\n    return data;\n  } catch (error) {\n    return {\n      error: error.response || error\n    };\n  }\n};\n\nexport { getMainArticles, getPublishedArticles, getDraftArticles, getArticle, deleteArticle };","map":{"version":3,"sources":["/Users/avpaul/code/outcode/src/api/article.js"],"names":["axios","getConfig","serverRuntimeConfig","publicRuntimeConfig","getMainArticles","page","limit","data","get","API_URL","error","response","getPublishedArticles","token","localStorage","getItem","headers","authorization","getDraftArticles","getArticle","slug","deleteArticle","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport getConfig from 'next/config';\n\nconst { serverRuntimeConfig, publicRuntimeConfig } = getConfig();\n\nconst getMainArticles = async ({ page = 0, limit = 6 }) => {\n  try {\n    const { data } = await axios.get(\n      `${publicRuntimeConfig.API_URL}/articles?page=${page}&limit=${limit}`,\n      {}\n    );\n    return data;\n  } catch (error) {\n    return { error: error.response || error };\n  }\n};\n\nconst getPublishedArticles = async ({ page = 0, limit = 6 }) => {\n  try {\n    const token = localStorage.getItem('token');\n    const { data } = await axios.get(\n      `${publicRuntimeConfig.API_URL}/articles/published?page=${page}&limit=${limit}`,\n      {\n        headers: { authorization: `Bearer ${token}` },\n        'Content-Type': 'application/json'\n      }\n    );\n    return data;\n  } catch (error) {\n    return { error: error.response || error };\n  }\n};\n\nconst getDraftArticles = async ({ page = 0, limit = 6 }) => {\n  try {\n    const token = localStorage.getItem('token');\n    const { data } = await axios.get(\n      `${publicRuntimeConfig.API_URL}/articles/drafts?page=${page}&limit=${limit}`,\n      {\n        headers: { authorization: `Bearer ${token}` },\n        'Content-Type': 'application/json'\n      }\n    );\n    return data;\n  } catch (error) {\n    return { error: error.response || error };\n  }\n};\n\nconst getArticle = async slug => {\n  try {\n    const { data } = await axios.get(\n      `${publicRuntimeConfig.API_URL}/articles/${slug}`,\n      {}\n    );\n    return data;\n  } catch (error) {\n    return { error: error.response || error };\n  }\n};\n\nconst deleteArticle = async slug => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const { data } = await axios.delete(\n      `${publicRuntimeConfig.API_URL}/articles/${slug}`,\n      {\n        headers: { authorization: `Bearer ${token}` },\n        'Content-Type': 'application/json'\n      }\n    );\n    return data;\n  } catch (error) {\n    return { error: error.response || error };\n  }\n};\n\nexport {\n  getMainArticles,\n  getPublishedArticles,\n  getDraftArticles,\n  getArticle,\n  deleteArticle\n};\n"]},"metadata":{},"sourceType":"module"}